(function($){"use strict";UNCODE.isotopeLayout=function(){if($(".isotope-layout").length>0){var isotopeContainersArray=[],typeGridArray=[],layoutGridArray=[],screenLgArray=[],screenMdArray=[],screenSmArray=[],transitionDuration=[],$filterItems=[],$filters=$(".isotope-system .isotope-filters"),$itemSelector=".tmb-iso",$items,itemMargin,correctionFactor=0,firstLoad=!0,isOriginLeft=$("body").hasClass("rtl")?!1:!0;$('[class*="isotope-container"]').each(function(index){var _this=$(this),isoData=_this.data(),$data_lg,$data_md,$data_sm;_this.children(".tmb").addClass("tmb-iso"),isoData.lg!==undefined?$data_lg=_this.attr("data-lg"):$data_lg="1000",isoData.md!==undefined?$data_md=_this.attr("data-md"):$data_md="600",isoData.sm!==undefined?$data_sm=_this.attr("data-sm"):$data_sm="480",screenLgArray.push($data_lg),screenMdArray.push($data_md),screenSmArray.push($data_sm),transitionDuration.push($(".t-inside.animate_when_almost_visible",this).length>0?0:"0.5s"),isoData.type=="metro"?typeGridArray.push(!0):typeGridArray.push(!1),isoData.layout!==undefined?layoutGridArray.push(isoData.layout):layoutGridArray.push("masonry"),isotopeContainersArray.push(_this),_this.attr("data-iso-index",index)});var colWidth=function(index){$(isotopeContainersArray[index]).width("");var isPx=$(isotopeContainersArray[index]).parent().hasClass("px-gutter"),widthAvailable=$(isotopeContainersArray[index]).width(),columnNum=12,columnWidth=0,data_vp_height=$(isotopeContainersArray[index]).attr("data-vp-height"),consider_menu=$(isotopeContainersArray[index]).attr("data-vp-menu"),winHeight=UNCODE.wheight-UNCODE.adminBarHeight,$rowContainer,paddingRow,$colContainer,paddingCol;consider_menu&&(winHeight-=UNCODE.menuHeight),data_vp_height==="1"&&($rowContainer=$(isotopeContainersArray[index]).parents(".row-parent").eq(0),paddingRow=parseInt($rowContainer.css("padding-top"))+parseInt($rowContainer.css("padding-bottom")),$colContainer=$(isotopeContainersArray[index]).parents(".uncell").eq(0),paddingCol=parseInt($colContainer.css("padding-top"))+parseInt($colContainer.css("padding-bottom")),winHeight-=paddingRow+paddingCol),isPx?(columnWidth=Math.ceil(widthAvailable/columnNum),$(isotopeContainersArray[index]).width(columnNum*Math.ceil(columnWidth))):columnWidth=$("html.firefox").length?Math.floor(widthAvailable/columnNum):widthAvailable/columnNum,$items=$(isotopeContainersArray[index]).find(".tmb-iso:not(.tmb-carousel)"),itemMargin=parseInt($(isotopeContainersArray[index]).find(".t-inside").css("margin-top"));for(var i=0,len=$items.length;i<len;i++){var $item=$($items[i]),multiplier_w=$item.attr("class").match(/tmb-iso-w(\d{0,2})/),multiplier_h=$item.attr("class").match(/tmb-iso-h(\d{0,3})/),multiplier_fixed=multiplier_h!==null?multiplier_h[1]:1;multiplier_w!=null&&multiplier_w[1]!==undefined&&multiplier_w[1]==15&&(multiplier_w[1]=2.4),multiplier_h!=null&&multiplier_h[1]!==undefined&&multiplier_h[1]==15&&(multiplier_h[1]=2.4);if(widthAvailable>=screenMdArray[index]&&widthAvailable<screenLgArray[index]){if(multiplier_w!=null&&multiplier_w[1]!==undefined){switch(parseInt(multiplier_w[1])){case 5:case 4:case 3:typeGridArray[index]&&(multiplier_h[1]=6*multiplier_h[1]/multiplier_w[1]),multiplier_w[1]=6;break;case 2:case 1:typeGridArray[index]&&(multiplier_h[1]=3*multiplier_h[1]/multiplier_w[1]),multiplier_w[1]=3;break;default:typeGridArray[index]&&(multiplier_h[1]=12*multiplier_h[1]/multiplier_w[1]),multiplier_w[1]=12}multiplier_w[1]==2.4&&(typeGridArray[index]&&(multiplier_h[1]=6*multiplier_h[1]/multiplier_w[1]),multiplier_w[1]=6)}}else if(widthAvailable>=screenSmArray[index]&&widthAvailable<screenMdArray[index]){if(multiplier_w!=null&&multiplier_w[1]!==undefined){switch(parseInt(multiplier_w[1])){case 5:case 4:case 3:case 2:case 1:typeGridArray[index]&&(multiplier_h[1]=6*multiplier_h[1]/multiplier_w[1]),multiplier_w[1]=6;break;default:typeGridArray[index]&&(multiplier_h[1]=12*multiplier_h[1]/multiplier_w[1]),multiplier_w[1]=12}multiplier_w[1]==2.4&&(typeGridArray[index]&&(multiplier_h[1]=6*multiplier_h[1]/multiplier_w[1]),multiplier_w[1]=6)}}else widthAvailable<screenSmArray[index]&&multiplier_w!=null&&multiplier_w[1]!==undefined&&(multiplier_w[1]=12,typeGridArray[index]&&(multiplier_h[1]=12));var width=multiplier_w?Math.floor(columnWidth*multiplier_w[1]):columnWidth,height;data_vp_height==="1"&&typeof multiplier_h[1]!="undefined"?(height=multiplier_h?Math.ceil(winHeight/(100/multiplier_fixed))-itemMargin:columnWidth,widthAvailable<screenSmArray[index]&&(height=Math.ceil(2*Math.ceil(columnWidth/2)*12)-itemMargin)):height=multiplier_h?Math.ceil(2*Math.ceil(columnWidth/2)*multiplier_h[1])-itemMargin:columnWidth,width>=widthAvailable?($item.css({width:widthAvailable}),typeGridArray[index]&&$item.children().add($item.find(".backimg")).css({height:height})):($item.css({width:width}),typeGridArray[index]&&$item.children().add($item.find(".backimg")).css({height:height}))}return multiplier_w!=null&&multiplier_w[1]!==undefined&&multiplier_w[1]==2.4?columnWidth/60:columnWidth},init_isotope=function(){for(var i=0,len=isotopeContainersArray.length;i<len;i++){var isotopeSystem=$(isotopeContainersArray[i]).closest($(".isotope-system")),isotopeId=isotopeSystem.attr("id"),$layoutMode=layoutGridArray[i],setIsotopeFirstRowTimeOut,setIsotopeFirstRow=function(items){var firstRow=!0;$(items).each(function(index,val){var el=items[index].element,el_top=items[index].position.y,$el=$(el);index>0&&el_top>0&&firstRow?firstRow=!1:index==0&&el_top==0&&(firstRow=!0),firstRow?$el.removeClass("tmb-isotope-further-row"):$el.addClass("tmb-isotope-further-row")})};$(isotopeContainersArray[i]).not(".un-isotope-init").addClass("un-isotope-init").isotope({itemSelector:$itemSelector,layoutMode:$layoutMode,transitionDuration:transitionDuration[i],masonry:{columnWidth:colWidth(i)},vertical:{horizontalAlignment:.5},sortBy:"original-order",isOriginLeft:isOriginLeft}).on("layoutComplete",onLayout($(isotopeContainersArray[i]),0)).on("layoutComplete",function(event,items){typeof items[0]!="undefined"&&$(items[0].element).closest(".off-grid-layout:not(.off-grid-forced)").length&&setIsotopeFirstRow(items)}).on("arrangeComplete",function(event,items){typeof items[0]!="undefined"&&$(items[0].element).closest(".off-grid-layout:not(.off-grid-forced)").length&&(clearRequestTimeout(setIsotopeFirstRowTimeOut),setIsotopeFirstRowTimeOut=requestTimeout(function(){setIsotopeFirstRow(items)},100))});if($(isotopeContainersArray[i]).hasClass("isotope-infinite")&&$.fn.infinitescroll){$(isotopeContainersArray[i]).infinitescroll({navSelector:"#"+isotopeId+" .loadmore-button",nextSelector:"#"+isotopeId+" .loadmore-button a",itemSelector:"#"+isotopeId+" .isotope-layout .tmb, #"+isotopeId+" .isotope-filters li",animate:!1,behavior:"local",debug:!1,loading:{selector:"#"+isotopeId+".isotope-system .isotope-footer-inner",speed:0,finished:undefined,msg:$("#"+isotopeId+" .loadmore-button")},errorCallback:function(){var isotope_system=$(this).closest(".isotope-system");$(".loading-button",isotope_system).hide(),$(".loadmore-button",isotope_system).attr("style","display:none !important")}},function(newElements,opts){var $isotope=$(this),isotopeId=$isotope.closest(".isotope-system").attr("id"),filters=new Array,$loading_button=$isotope.closest(".isotope-system").find(".loading-button"),$infinite_button=$isotope.closest(".isotope-system").find(".loadmore-button"),$numPages=$("a",$infinite_button).data("pages"),delay=300;$("a",$infinite_button).html($("a",$infinite_button).data("label")),$infinite_button.show(),$loading_button.hide(),$numPages!=undefined&&opts.state.currPage==$numPages&&$infinite_button.hide(),$("> li",$isotope).remove(),$.each($(newElements),function(index,val){$(val).addClass("tmb-iso"),$(val).is("li")&&filters.push($(val)[0])}),newElements=newElements.filter(function(x){return filters.indexOf(x)<0}),$.each($(filters),function(index,val){$("#"+isotopeId+' a[data-filter="'+$("a",val).attr("data-filter")+'"]').length==0&&$("#"+isotopeId+" .isotope-filters ul").append($(val))}),$isotope.isotope("reloadItems",onLayout($isotope,newElements.length));if(typeof UNCODE.lightbox!="undefined"){var getLightbox=UNCODE.lightboxArray["ilightbox_"+isotopeId];typeof getLightbox=="object"&&getLightbox.refresh()}typeof twttr!="undefined"&&twttr.widgets.load(isotopeContainersArray[i])});if($(isotopeContainersArray[i]).hasClass("isotope-infinite-button")){var $infinite_isotope=$(isotopeContainersArray[i]),$infinite_button=$infinite_isotope.closest(".isotope-system").find(".loadmore-button a");$infinite_isotope.infinitescroll("pause"),$infinite_button.on("click",function(event){event.preventDefault();var $infinite_system=$(event.target).closest(".isotope-system"),$infinite_isotope=$infinite_system.find(".isotope-container"),isotopeId=$infinite_system.attr("id");$(event.currentTarget).html(SiteParameters.loading),$infinite_isotope.infinitescroll("resume"),$infinite_isotope.infinitescroll("retrieve"),$infinite_isotope.infinitescroll("pause")})}}}},onLayout=function(isotopeObj,startIndex,needsReload){var needsReload=needsReload?!0:!1;typeof UNCODE.bigText!="undefined"&&UNCODE.bigText(),isotopeObj.css("opacity",1),isotopeObj.closest(".isotope-system").find(".isotope-footer").css("opacity",1),requestTimeout(function(){startIndex>0?(reloadIsotope(isotopeObj),SiteParameters.dynamic_srcset_active==="1"&&(UNCODE.refresh_dynamic_srcset_size(isotopeObj),UNCODE.adaptive_srcset(isotopeObj))):needsReload&&reloadIsotope(isotopeObj),UNCODE.adaptive(),SiteParameters.dynamic_srcset_active==="1"&&startIndex===0&&UNCODE.refresh_dynamic_srcset_size(isotopeObj),$(isotopeObj).find("audio,video").each(function(){$(this).mediaelementplayer({pauseOtherPlayers:!1})}),$(isotopeObj).find(".nested-carousel").length?(typeof UNCODE.carousel!="undefined"&&UNCODE.carousel($(isotopeObj).find(".nested-carousel")),requestTimeout(function(){boxAnimation($(".tmb-iso",isotopeObj),startIndex,!0,isotopeObj)},200)):boxAnimation($(".tmb-iso",isotopeObj),startIndex,!0,isotopeObj),isotopeObj.trigger("isotope-layout-complete")},100)},boxAnimation=function(items,startIndex,sequential,container){var $allItems=items.length-startIndex,showed=0,index=0;if(container.closest(".owl-item").length==1)return!1;$.each(items,function(index,val){var $this=$(val),elInner=$("> .t-inside",val);if(UNCODE.isUnmodalOpen&&!val.closest("#unmodal-content"))return;val[0]&&(val=val[0]),elInner.hasClass("animate_when_almost_visible")&&!elInner.hasClass("force-anim")?new Waypoint({context:UNCODE.isUnmodalOpen?document.getElementById("unmodal-content"):window,element:val,handler:function(){var element=$("> .t-inside",this.element),parent=$(this.element),currentIndex=parent.index(),delay=sequential?startIndex!==0?currentIndex-$allItems:currentIndex:index,delayAttr=parseInt(element.attr("data-delay"));isNaN(delayAttr)&&(delayAttr=100),delay-=showed;var objTimeout=requestTimeout(function(){element.removeClass("zoom-reverse").addClass("start_animation"),showed=parent.index(),container.isotope("layout")},delay*delayAttr);parent.data("objTimeout",objTimeout),UNCODE.isUnmodalOpen||this.destroy()},offset:"100%"}):(elInner.hasClass("force-anim")?elInner.addClass("start_animation"):elInner.css("opacity",1),container.isotope("layout")),index++})},reloadIsotope=function(isotopeObj){var isoIndex=$(isotopeObj).attr("data-iso-index"),$layoutMode=$(isotopeObj).data("layout");$layoutMode===undefined&&($layoutMode="masonry"),isotopeObj.data("isotope")&&isotopeObj.isotope({itemSelector:$itemSelector,layoutMode:$layoutMode,transitionDuration:transitionDuration[isoIndex],masonry:{columnWidth:colWidth(isoIndex)},vertical:{horizontalAlignment:.5},sortBy:"original-order",isOriginLeft:isOriginLeft})};$(".isotope-pagination").length>0&&$(".isotope-system").on("click",".pagination a",function(evt){evt.preventDefault();var filterContainer=$(this).closest(".isotope-system").find(".isotope-filters"),container=$(this).closest(".isotope-system"),calc_scroll=container.closest(".uncol").offset().top,getFilterSpanPadding=filterContainer.hasClass("with-bg")?0:$(".filter-show-all span",filterContainer).css("padding-bottom"),getFilterPadding=filterContainer.hasClass("with-bg")?0:$(".filter-show-all span a",filterContainer).css("padding-bottom"),filterOffset=getFilterSpanPadding!=undefined&&getFilterSpanPadding!=0?parseInt(getFilterSpanPadding.replace("px","")):0;filterOffset+=getFilterPadding!=undefined&&getFilterPadding!=0?parseInt(getFilterPadding.replace("px","")):0,calc_scroll-=filterOffset-1,calc_scroll-=UNCODE.get_scroll_offset();var bodyTop=document.documentElement.scrollTop||document.body.scrollTop,delta=bodyTop-calc_scroll,scrollSpeed=SiteParameters.constant_scroll=="on"?Math.abs(delta)/parseFloat(SiteParameters.scroll_speed):SiteParameters.scroll_speed;scrollSpeed<1e3&&SiteParameters.constant_scroll=="on"&&(scrollSpeed=1e3),UNCODE.isFullPage||(scrollSpeed==0?$("html, body").scrollTop(calc_scroll):$("html, body").animate({scrollTop:calc_scroll},{easing:"easeInOutQuad",duration:scrollSpeed,complete:function(){UNCODE.scrolling=!1}})),loadIsotope($(this)),evt.preventDefault()}),$filters.on("click","a.isotope-nav-link",function(evt){if($(this).hasClass("no-isotope-filter"))return;var $filter=$(this),filterContainer=$filter.closest(".isotope-filters"),filterValue=$filter.attr("data-filter"),container=$filter.closest(".isotope-system").find($(".isotope-layout")),transitionDuration=container.data().isotope.options.transitionDuration,delay=300,filterItems=[];if(!$filter.hasClass("active")){if(filterContainer.hasClass("filter-scroll")){var calc_scroll=container.closest(".uncol").offset().top,getFilterSpanPadding=filterContainer.hasClass("with-bg")?0:$(".filter-show-all span",filterContainer).css("padding-bottom"),getFilterPadding=filterContainer.hasClass("with-bg")?0:$(".filter-show-all span a",filterContainer).css("padding-bottom"),filterOffset=getFilterSpanPadding!=undefined&&getFilterSpanPadding!=0?parseInt(getFilterSpanPadding.replace("px","")):0;filterOffset+=getFilterPadding!=undefined&&getFilterPadding!=0?parseInt(getFilterPadding.replace("px","")):0,calc_scroll-=filterOffset-1,calc_scroll-=UNCODE.get_scroll_offset();var bodyTop=document.documentElement.scrollTop||document.body.scrollTop,delta=bodyTop-calc_scroll,scrollSpeed=SiteParameters.constant_scroll=="on"?Math.abs(delta)/parseFloat(SiteParameters.scroll_speed):SiteParameters.scroll_speed;scrollSpeed<1e3&&SiteParameters.constant_scroll=="on"&&(scrollSpeed=1e3),UNCODE.isFullPage||(scrollSpeed==0?($("html, body").scrollTop(calc_scroll),UNCODE.scrolling=!1):$("html, body").animate({scrollTop:calc_scroll},{easing:"easeInOutQuad",duration:scrollSpeed,complete:function(){UNCODE.scrolling=!1}}))}filterValue!==undefined?($.each($("> .tmb-iso > .t-inside",container),function(index,val){var parent=$(val).parent(),objTimeout=parent.data("objTimeout");objTimeout&&($(val).removeClass("zoom-reverse").removeClass("start_animation"),clearRequestTimeout(objTimeout)),transitionDuration==0&&($(val).hasClass("animate_when_almost_visible")?$(val).addClass("zoom-reverse").removeClass("start_animation"):$(val).addClass("animate_when_almost_visible zoom-reverse zoom-anim force-anim"))}),requestTimeout(function(){filterValue=="*"?container.removeClass("isotope-filtered"):container.addClass("isotope-filtered"),container.isotope({filter:function(){var block=$(this),filterable=filterValue=="*"||block.hasClass(filterValue),lightboxElements=$("[data-lbox^=ilightbox]",block);return filterable?(lightboxElements.length&&(lightboxElements.removeClass("lb-disabled"),container.data("lbox",$(lightboxElements[0]).data("lbox"))),filterItems.push(block)):lightboxElements.length&&lightboxElements.addClass("lb-disabled"),filterable}}),$(".t-inside.zoom-reverse",container).removeClass("zoom-reverse")},delay),container.isotope("once","arrangeComplete",function(){if(typeof UNCODE.lightbox!="undefined"){var getLightbox=UNCODE.lightboxArray[container.data("lbox")];typeof getLightbox=="object"&&getLightbox.refresh()}transitionDuration==0&&requestTimeout(function(){boxAnimation(filterItems,0,!1,container)},100),requestTimeout(function(){Waypoint.refreshAll()},2e3)})):($.each($("> .tmb-iso > .t-inside",container),function(index,val){var parent=$(val).parent(),objTimeout=parent.data("objTimeout");objTimeout&&($(val).removeClass("zoom-reverse").removeClass("start_animation"),clearRequestTimeout(objTimeout)),transitionDuration==0&&($(val).hasClass("animate_when_almost_visible")?$(val).addClass("zoom-reverse").removeClass("start_animation"):$(val).addClass("animate_when_almost_visible zoom-reverse zoom-anim force-anim"))}),container.parent().addClass("isotope-loading"),loadIsotope($filter))}evt.preventDefault()}),$(window).on("popstate",function(e){if(e.originalEvent.state===null)return;var params={};if(location.search){var parts=location.search.substring(1).split("&");for(var i=0;i<parts.length;i++){var nv=parts[i].split("=");if(!nv[0])continue;params[nv[0]]=nv[1]||!0}}params.id===undefined?$.each($(".isotope-system"),function(index,val){loadIsotope($(val))}):loadIsotope($("#"+params.id))});var loadIsotope=function($href){var href=$href.is("a")?$href.attr("href"):location,isotopeSystem=$href.is("a")?$href.closest($(".isotope-system")):$href,isotopeWrapper=isotopeSystem.find($(".isotope-wrapper")),isotopeFooter=isotopeSystem.find($(".isotope-footer-inner")),isotopeResultCount=isotopeSystem.find($(".woocommerce-result-count-wrapper")),isotopeContainer=isotopeSystem.find($(".isotope-layout")),isotopeId=isotopeSystem.attr("id");$href.is("a")&&!isotopeSystem.hasClass("un-no-history")&&history.pushState({myIsotope:!0},document.title,href),$.ajax({url:href}).done(function(data){var $resultItems=$(data).find("#"+isotopeId+" .isotope-layout").html(),$resultPagination=$(data).find("#"+isotopeId+" .pagination"),$resultCount=$(data).find("#"+isotopeId+" .woocommerce-result-count");isotopeWrapper.addClass("isotope-reloaded"),requestTimeout(function(){isotopeWrapper.removeClass("isotope-loading"),isotopeWrapper.removeClass("isotope-reloaded")},500),$.each($("> .tmb > .t-inside",isotopeContainer),function(index,val){var parent=$(val).parent(),objTimeout=parent.data("objTimeout");objTimeout&&($(val).removeClass("zoom-reverse").removeClass("start_animation"),clearRequestTimeout(objTimeout)),$(val).hasClass("animate_when_almost_visible")?$(val).addClass("zoom-reverse").removeClass("start_animation"):$(val).addClass("animate_when_almost_visible zoom-reverse zoom-in force-anim")}),requestTimeout(function(){if(isotopeContainer.data("isotope")){isotopeContainer.html($resultItems).children(".tmb").addClass("tmb-iso"),isotopeContainer.isotope("reloadItems",onLayout(isotopeContainer,0,!0)),UNCODE.adaptive(),SiteParameters.dynamic_srcset_active==="1"&&UNCODE.adaptive_srcset(isotopeContainer);if(typeof UNCODE.lightbox!="undefined"){var getLightbox=UNCODE.lightboxArray["ilightbox_"+isotopeContainer.closest(".isotope-system").attr("id")];typeof getLightbox=="object"&&getLightbox.refresh()}}},300),$(".pagination",isotopeFooter).remove(),isotopeFooter.append($resultPagination),isotopeResultCount.length>0&&($(".woocommerce-result-count",isotopeResultCount).remove(),isotopeResultCount.append($resultCount))})};$filters.each(function(i,buttonGroup){var $buttonGroup=$(buttonGroup);$buttonGroup.on("click","a:not(.no-isotope-filter)",function(){$buttonGroup.find(".active").removeClass("active"),$(this).addClass("active")});var $cats_mobile_trigger=$(".menu-smart--filter-cats_mobile-toggle-trigger",$buttonGroup),$cats_mobile_toggle=$(".menu-smart--filter-cats_mobile-toggle",$buttonGroup),$cats_filters=$(".menu-smart--filter-cats",$buttonGroup);$buttonGroup.on("click","a.menu-smart--filter-cats_mobile-toggle-trigger",function(e){e.preventDefault(),$cats_filters.slideToggle(400,"easeInOutCirc")})}),window.addEventListener("boxResized",function(e){if(UNCODE.printDialogOpen!==!1)return!1;$.each($(".isotope-layout"),function(index,val){var $layoutMode=$(this).data("layout");$layoutMode===undefined&&($layoutMode="masonry"),$(this).data("isotope")&&($(this).isotope({itemSelector:$itemSelector,layoutMode:$layoutMode,transitionDuration:transitionDuration[index],masonry:{columnWidth:colWidth(index)},vertical:{horizontalAlignment:.5},sortBy:"original-order",isOriginLeft:isOriginLeft}),$(this).isotope("unbindResize"),SiteParameters.dynamic_srcset_active==="1"&&UNCODE.refresh_dynamic_srcset_size($(this))),$(this).find(".mejs-video,.mejs-audio").each(function(){$(this).trigger("resize")})})},!1),init_isotope()}}})(jQuery)