var objectFitImages=function(){"use strict";function createPlaceholder(w,h){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+w+"' height='"+h+"'%3E%3C/svg%3E"}function polyfillCurrentSrc(el){if(el.srcset&&!supportsCurrentSrc&&window.picturefill){var pf=window.picturefill._;(!el[pf.ns]||!el[pf.ns].evaled)&&pf.fillImg(el,{reselect:!0}),el[pf.ns].curSrc||(el[pf.ns].supported=!1,pf.fillImg(el,{reselect:!0})),el.currentSrc=el[pf.ns].curSrc||el.src}}function getStyle(el){var style=getComputedStyle(el).fontFamily,parsed,props={};while((parsed=propRegex.exec(style))!==null)props[parsed[1]]=parsed[2];return props}function setPlaceholder(img,width,height){var placeholder=createPlaceholder(width||1,height||0);nativeGetAttribute.call(img,"src")!==placeholder&&nativeSetAttribute.call(img,"src",placeholder)}function onImageReady(img,callback){img.naturalWidth?callback(img):setTimeout(onImageReady,100,img,callback)}function fixOne(el){var style=getStyle(el),ofi=el[OFI];style["object-fit"]=style["object-fit"]||"fill";if(!ofi.img){if(style["object-fit"]==="fill")return;if(!ofi.skipTest&&supportsObjectFit&&!style["object-position"])return}if(!ofi.img){ofi.img=new Image(el.width,el.height),ofi.img.srcset=nativeGetAttribute.call(el,"data-ofi-srcset")||el.srcset,ofi.img.src=nativeGetAttribute.call(el,"data-ofi-src")||el.src,nativeSetAttribute.call(el,"data-ofi-src",el.src),el.srcset&&nativeSetAttribute.call(el,"data-ofi-srcset",el.srcset),setPlaceholder(el,el.naturalWidth||el.width,el.naturalHeight||el.height),el.srcset&&(el.srcset="");try{keepSrcUsable(el)}catch(err){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}polyfillCurrentSrc(ofi.img),el.style.backgroundImage='url("'+(ofi.img.currentSrc||ofi.img.src).replace(/"/g,'\\"')+'")',el.style.backgroundPosition=style["object-position"]||"center",el.style.backgroundRepeat="no-repeat",el.style.backgroundOrigin="content-box",/scale-down/.test(style["object-fit"])?onImageReady(ofi.img,function(){ofi.img.naturalWidth>el.width||ofi.img.naturalHeight>el.height?el.style.backgroundSize="contain":el.style.backgroundSize="auto"}):el.style.backgroundSize=style["object-fit"].replace("none","auto").replace("fill","100% 100%"),onImageReady(ofi.img,function(img){setPlaceholder(el,img.naturalWidth,img.naturalHeight)})}function keepSrcUsable(el){var descriptors={get:function get(prop){return el[OFI].img[prop?prop:"src"]},set:function set(value,prop){return el[OFI].img[prop?prop:"src"]=value,nativeSetAttribute.call(el,"data-ofi-"+prop,value),fixOne(el),value}};Object.defineProperty(el,"src",descriptors),Object.defineProperty(el,"currentSrc",{get:function(){return descriptors.get("currentSrc")}}),Object.defineProperty(el,"srcset",{get:function(){return descriptors.get("srcset")},set:function(ss){return descriptors.set(ss,"srcset")}})}function hijackAttributes(){function getOfiImageMaybe(el,name){return el[OFI]&&el[OFI].img&&(name==="src"||name==="srcset")?el[OFI].img:el}supportsObjectPosition||(HTMLImageElement.prototype.getAttribute=function(name){return nativeGetAttribute.call(getOfiImageMaybe(this,name),name)},HTMLImageElement.prototype.setAttribute=function(name,value){return nativeSetAttribute.call(getOfiImageMaybe(this,name),name,String(value))})}function fix(imgs,opts){var startAutoMode=!autoModeEnabled&&!imgs;opts=opts||{},imgs=imgs||"img";if(supportsObjectPosition&&!opts.skipTest||!supportsOFI)return!1;imgs==="img"?imgs=document.getElementsByTagName("img"):typeof imgs=="string"?imgs=document.querySelectorAll(imgs):"length"in imgs||(imgs=[imgs]);for(var i=0;i<imgs.length;i++)imgs[i][OFI]=imgs[i][OFI]||{skipTest:opts.skipTest},fixOne(imgs[i]);startAutoMode&&(document.body.addEventListener("load",function(e){e.target.tagName==="IMG"&&fix(e.target,{skipTest:opts.skipTest})},!0),autoModeEnabled=!0,imgs="img"),opts.watchMQ&&window.addEventListener("resize",fix.bind(null,imgs,{skipTest:opts.skipTest}))}var OFI="fregante:object-fit-images",propRegex=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,testImg=typeof Image=="undefined"?{style:{"object-position":1}}:new Image,supportsObjectFit="object-fit"in testImg.style,supportsObjectPosition="object-position"in testImg.style,supportsOFI="background-size"in testImg.style,supportsCurrentSrc=typeof testImg.currentSrc=="string",nativeGetAttribute=testImg.getAttribute,nativeSetAttribute=testImg.setAttribute,autoModeEnabled=!1;return fix.supportsObjectFit=supportsObjectFit,fix.supportsObjectPosition=supportsObjectPosition,hijackAttributes(),fix}()