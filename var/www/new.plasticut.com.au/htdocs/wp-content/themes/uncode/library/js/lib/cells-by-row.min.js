(function(window,factory){typeof define=="function"&&define.amd?define(["isotope/js/layout-mode"],factory):typeof exports=="object"?module.exports=factory(require("isotope-layout/js/layout-mode")):factory(window.Isotope.LayoutMode)})(window,function factory(LayoutMode){"use strict";var CellsByRow=LayoutMode.create("cellsByRow"),proto=CellsByRow.prototype;return proto._resetLayout=function(){this.itemIndex=0,this.getColumnWidth(),this.getRowHeight(),this.cols=Math.floor(this.isotope.size.innerWidth/this.columnWidth),this.cols=Math.max(this.cols,1)},proto._getItemLayoutPosition=function(item){item.getSize();var col=this.itemIndex%this.cols,row=Math.floor(this.itemIndex/this.cols),x=(col+.5)*this.columnWidth-item.size.outerWidth/2,y=(row+.5)*this.rowHeight-item.size.outerHeight/2;return this.itemIndex++,{x:x,y:y}},proto._getContainerSize=function(){return{height:Math.ceil(this.itemIndex/this.cols)*this.rowHeight}},CellsByRow})