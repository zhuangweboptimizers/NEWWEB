(function($){"use strict";UNCODE.menuSystem=function(){function menuMobile(){var $body=$("body"),$mobileToggleButton=$(".mobile-menu-button"),$box,$el,$el_transp,elHeight,check,animating=!1,stickyMobile=!1,menuClose=new CustomEvent("menuMobileClose"),menuOpen=new CustomEvent("menuMobileOpen");UNCODE.menuOpened=!1,$mobileToggleButton.on("click",function(event){var btn=this;if($(btn).hasClass("overlay-close"))return;event.preventDefault();if(UNCODE.wwidth<=UNCODE.mediaQuery){$box=$(this).closest(".box-container").find(".main-menu-container"),$el=$(this).closest(".box-container").find(".menu-horizontal-inner:not(.row-brand), .menu-sidebar-inner"),$el_transp=$(".menu-absolute.menu-transparent"),UNCODE.isMobile?$(".menu-wrapper.menu-sticky, .menu-wrapper.menu-hide-only, .main-header .menu-sticky-vertical, .main-header .menu-hide-only-vertical, .menu-mobile-centered").length?(stickyMobile=!0,elHeight=window.innerHeight-UNCODE.menuMobileHeight-UNCODE.bodyBorder*2-UNCODE.adminBarHeight+1):(elHeight=0,$.each($box.find("> div"),function(index,val){elHeight+=$(val).outerHeight()})):(elHeight=0,$.each($el,function(index,val){elHeight+=$(val).outerHeight()}));var open=function(){animating||($body.addClass("open-overlay-menu"),window.dispatchEvent(menuOpen),animating=!0,UNCODE.menuOpened=!0,$('body[class*="vmenu-"], body.hmenu-center').length&&$(".menu-hide, .menu-sticky, .menu-transparent").length&&($(".main-header > .vmenu-container").css({position:"fixed",top:$(".menu-container").outerHeight()+UNCODE.bodyBorder+UNCODE.adminBarHeight+"px"}),$("body.menu-offcanvas").length?($(".menu-container:not(.sticky-element):not(.isotope-filters)").css({position:"fixed"}),$(".vmenu-container.menu-container:not(.sticky-element):not(.isotope-filters)").css({position:"fixed",top:UNCODE.menuMobileHeight+UNCODE.bodyBorder+UNCODE.adminBarHeight+"px"})):$(".menu-hide, .menu-sticky").length&&UNCODE.wwidth>=960&&$(".menu-sticky").length&&$(".menu-container:not(.sticky-element):not(.isotope-filters)").css({position:"fixed"})),$("body.hmenu-center").length&&$(".menu-hide, .menu-sticky").length&&$(".menu-container:not(.sticky-element):not(.isotope-filters)").css({position:"fixed",top:UNCODE.menuMobileHeight+UNCODE.bodyBorder+UNCODE.adminBarHeight+"px"}),btn.classList.add("close"),$box.addClass("open-items"),$el_transp.length&&$("body.menu-mobile-transparent").length&&$el_transp.addClass("is_mobile_open"),$box.animate({height:elHeight},600,"easeInOutCirc",function(){animating=!1,stickyMobile||$box.css("height","auto")}))},close=function(){animating||(window.dispatchEvent(menuClose),animating=!0,UNCODE.menuOpened=!1,btn.classList.remove("close"),btn.classList.add("closing"),$box.addClass("close"),requestTimeout(function(){$box.removeClass("close"),$box.removeClass("open-items"),btn.classList.remove("closing"),$el_transp.length&&$el_transp.removeClass("is_mobile_open")},500),$box.animate({height:0},{duration:600,easing:"easeInOutCirc",complete:function(elements){$(elements).css("height",""),animating=!1,$('body[class*="vmenu-"]').length&&UNCODE.wwidth>=960&&$(".main-header > .vmenu-container").add(".menu-container:not(.sticky-element):not(.isotope-filters)").css("position","relative"),$body.removeClass("open-overlay-menu")}}))};check=UNCODE.menuOpened?close():open()}}),window.addEventListener("menuMobileTrigged",function(e){$(".mobile-menu-button.close").trigger("click")}),window.addEventListener("orientationchange",function(e){$("#logo-container-mobile .mobile-menu-button.close").trigger("click")}),window.addEventListener("resize",function(){if($(window).width()<UNCODE.mediaQuery){if(UNCODE.isMobile){var $box=$(".box-container .main-menu-container"),$el=$(".box-container .menu-horizontal-inner, .box-container .menu-sidebar-inner");$($box).length&&$($box).hasClass("open-items")&&$($box).css("height")!="auto"&&$(".menu-wrapper.menu-sticky, .menu-wrapper.menu-hide-only").length&&(elHeight=0,$.each($el,function(index,val){elHeight+=$(val).outerHeight()}),elHeight=window.innerHeight-$(".menu-wrapper.menu-sticky .menu-container .row-menu-inner, .menu-wrapper.menu-hide-only .menu-container .row-menu-inner").height()-UNCODE.bodyBorder*2+1,$($box).css("height",elHeight+"px"))}}else $(".menu-hide-vertical").removeAttr("style"),$(".menu-container-mobile").removeAttr("style"),$(".vmenu-container.menu-container").removeAttr("style")})}function menuOffCanvas(){var menuClose=new CustomEvent("menuCanvasClose"),menuOpen=new CustomEvent("menuCanvasOpen");$(".menu-primary .menu-button-offcanvas").click(function(event){$(window).width()>UNCODE.mediaQuery&&($(event.currentTarget).hasClass("close")?($(event.currentTarget).removeClass("close"),$(event.currentTarget).addClass("closing"),requestTimeout(function(){$(event.currentTarget).removeClass("closing"),window.dispatchEvent(menuClose)},500)):($(event.currentTarget).addClass("close"),window.dispatchEvent(menuOpen))),$("body").toggleClass("off-opened")})}function menuSmart(){var $menusmart=$('[class*="menu-smart"]'),$masthead=$("#masthead"),$hMenu=$(".menu-horizontal-inner",$masthead),$focus=$(".overlay-menu-focus"),showTimeout=50,hideTimeout=50,showTimeoutFunc,hideTimeoutFunc;$("> li.menu-item-has-children",$menusmart).hover(function(){$(this).data("hover",!0)},function(){$(this).data("hover",!1)});if($(window).width()>=UNCODE.mediaQuery&&$(".overlay-menu-focus").length){var $notLis=$("> .nav > ul > li a",$hMenu),$menuA=$("a",$masthead).not($notLis),$hoverSelector=$("> .nav > ul > li",$hMenu).has("> ul"),showFuncCond=function(){return!0};$("body").hasClass("focus-megamenu")?($hoverSelector=$("> .nav > ul > li",$hMenu).has(".mega-menu-inner"),showFuncCond=function($ul){return $ul.hasClass("mega-menu-inner")}):$("body").hasClass("focus-links")&&($hoverSelector=$("> .nav > ul > li",$hMenu).add($menuA)),$hoverSelector.hover(function(){clearRequestTimeout(hideTimeoutFunc),showTimeoutFunc=requestTimeout(function(){$("body").addClass("navbar-hover")},showTimeout*2)},function(){hideTimeoutFunc=requestTimeout(function(){$("body").removeClass("navbar-hover")},hideTimeout*2)})}else showFuncCond=function(){return!1};$menusmart.length>0&&($menusmart.smartmenus({subIndicators:!1,subIndicatorsPos:"append",subIndicatorsText:"",showTimeout:showTimeout,hideTimeout:hideTimeout,showFunction:function($ul,complete){clearRequestTimeout(showTimeoutFunc),$ul.fadeIn(0,"linear",function(){complete(),$ul.hasClass("vc_row")&&$ul.css({display:"table"}),$(".overlay-menu-focus").length&&$ul.hasClass("mega-menu-inner")&&$("body").addClass("open-megamenu"),$(".overlay-menu-focus").length&&showFuncCond($ul)&&$(window).width()>=UNCODE.mediaQuery&&$ul.closest(".main-menu-container").length&&$("body").addClass("navbar-hover")}).addClass("open-animated")},hideFunction:function($ul,complete){$(".overlay-menu-focus").length&&$ul.hasClass("mega-menu-inner")&&$("body").removeClass("open-megamenu");var fixIE=$("html.ie").length;if(fixIE){var $rowParent=$($ul).closest(".main-menu-container");$rowParent.height("auto")}$ul.fadeOut(0,"linear",function(){complete(),$ul.removeClass("open-animated"),$ul.closest("li.menu-item-has-children").data("hover")===!1&&$("body").removeClass("open-submenu")})},collapsibleShowFunction:function($ul,complete){$ul.slideDown(400,"easeInOutCirc",complete)},collapsibleHideFunction:function($ul,complete){$ul.slideUp(200,"easeInOutCirc",complete)},hideOnClick:!0}),$("body").hasClass("menu-accordion-active")&&requestTimeout(function(){$menusmart.addClass("menu-smart-init"),$menusmart.smartmenus("itemActivate",$menusmart.find(".current-menu-item > a").eq(-1))},1e3))}function menuOverlay(){$(".overlay").length&&$(".overlay").removeClass("hidden"),$(".overlay-sequential, .menu-mobile-animated").length>0&&$(".overlay-sequential .menu-smart > li, .menu-sticky .menu-container .menu-smart > li, .menu-hide.menu-container .menu-smart > li, .vmenu-container .menu-smart > li").each(function(index,el){var transDelay=index/20+.1;$("body").hasClass("menu-mobile-centered")&&$(window).width()<UNCODE.mediaQuery&&(transDelay+=.3),$(this)[0].setAttribute("style","-webkit-transition-delay:"+transDelay+"s; -moz-transition-delay:"+transDelay+"s; -ms-transition-delay:"+transDelay+"s; -o-transition-delay:"+transDelay+"s; transition-delay:"+transDelay+"s")})}function menuAppend(){var $body=$("body"),$menuCont=$(".menu-container"),$cta=$(".navbar-cta"),$socials=$(".navbar-social"),$ul=$(".navbar-main ul.menu-primary-inner"),$ulCta,$ulSocials,$firstMenu=$(".main-menu-container:first-child",$menuCont),$secondMenu=$(".main-menu-container:last-child",$menuCont),$firstNav=$(".navbar-nav:first-child",$firstMenu),$secondNav=$(".navbar-nav:first-child",$secondMenu),$ulFirst=$("> ul",$firstNav),$ulSecond=$("> ul",$secondNav),setCTA,appendCTA=function(){return!0},appendSocials=function(){return!0},appendSplit=function(){return!0};if($body.hasClass("cta-not-appended"))return!1;($body.hasClass("menu-offcanvas")||$body.hasClass("menu-overlay")||$body.hasClass("hmenu-center-split"))&&$cta.length&&($ulCta=$("> ul",$cta),appendCTA=function(){UNCODE.wwidth<UNCODE.mediaQuery?$ul.after($ulCta):$cta.append($ulCta)}),appendCTA(),($body.hasClass("hmenu-center-split")||$body.hasClass("menu-overlay-center"))&&$socials.length&&($ulSocials=$("> ul",$socials),appendSocials=function(){UNCODE.wwidth<UNCODE.mediaQuery?$ul.after($ulSocials):$socials.append($ulSocials)}),appendSocials(),$body.hasClass("hmenu-center-double")&&(appendSplit=function(){UNCODE.wwidth<UNCODE.mediaQuery?($secondNav.length&&$secondNav.prepend($ulFirst),$firstMenu.hide()):($firstNav.append($ulFirst),$firstMenu.css({display:"table-cell"}))}),appendSplit(),$(window).on("resize",function(){clearRequestTimeout(setCTA),setCTA=requestTimeout(function(){appendCTA(),appendSocials(),appendSplit()},10)})}menuMobile(),menuOffCanvas(),menuSmart(),menuAppend(),menuOverlay();var setMenuOverlay;$(window).on("resize",function(){$(".overlay").length&&$(window).width()>1024&&$(".overlay").addClass("hidden"),clearRequestTimeout(setMenuOverlay),setMenuOverlay=requestTimeout(menuOverlay,150)})}})(jQuery)